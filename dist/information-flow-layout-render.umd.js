!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.InformationFlowLayoutRender=e()}(this,function(){"use strict";function t(t,e){return e={exports:{}},t(e,e.exports),e.exports}function e(t,e){for(var n,o=[],a=0,c=0,l="",s=e&&e.delimiter||"/",d=e&&e.delimiters||"./",f=!1;null!==(n=h.exec(t));){var u=n[0],p=n[1],g=n.index;if(l+=t.slice(c,g),c=g+u.length,p)l+=p[1],f=!0;else{var m="",y=t[c],v=n[2],b=n[3],w=n[4],x=n[5];if(!f&&l.length){var C=l.length-1;d.indexOf(l[C])>-1&&(m=l[C],l=l.slice(0,C))}l&&(o.push(l),l="",f=!1);var j=""!==m&&void 0!==y&&y!==m,O="+"===x||"*"===x,k="?"===x||"*"===x,S=m||s,T=b||w;o.push({name:v||a++,prefix:m,delimiter:S,optional:k,repeat:O,partial:j,pattern:T?r(T):"[^"+i(S)+"]+?"})}}return(l||c<t.length)&&o.push(l+t.substr(c)),o}function n(t){for(var e=new Array(t.length),n=0;n<t.length;n++)"object"==typeof t[n]&&(e[n]=new RegExp("^(?:"+t[n].pattern+")$"));return function(n,i){for(var r="",o=i&&i.encode||encodeURIComponent,a=0;a<t.length;a++){var c=t[a];if("string"!=typeof c){var l,s=n?n[c.name]:void 0;if(Array.isArray(s)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but got array');if(0===s.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var d=0;d<s.length;d++){if(l=o(s[d]),!e[a].test(l))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'"');r+=(0===d?c.prefix:c.delimiter)+l}}else if("string"!=typeof s&&"number"!=typeof s&&"boolean"!=typeof s){if(!c.optional)throw new TypeError('Expected "'+c.name+'" to be '+(c.repeat?"an array":"a string"));c.partial&&(r+=c.prefix)}else{if(l=o(String(s)),!e[a].test(l))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but got "'+l+'"');r+=c.prefix+l}}else r+=c}return r}}function i(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function r(t){return t.replace(/([=!:$/()])/g,"\\$1")}function o(t,e){return Object.assign({},ut,{width:t-20},e)}function a(t,e){return Object.assign({},pt,e)}var c="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},l=t(function(t,e){function n(t,e){return null==t?void 0:t[e]}function i(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function r(t){return!(!g(t)||a(t))&&(p(t)||i(t)?P:O).test(s(t))}function o(t,e){var i=n(t,e);return r(i)?i:void 0}function a(t){return!!M&&M in t}function l(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||I)}function s(t){if(null!=t){try{return H.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function d(t){return u(t)&&F.call(t,"callee")&&(!z.call(t,"callee")||L.call(t)==v)}function f(t){return null!=t&&h(t.length)&&!p(t)}function u(t){return m(t)&&f(t)}function p(t){var e=g(t)?L.call(t):"";return e==b||e==w}function h(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=y}function g(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function m(t){return!!t&&"object"==typeof t}var y=9007199254740991,v="[object Arguments]",b="[object Function]",w="[object GeneratorFunction]",x="[object Map]",C="[object Set]",j=/[\\^$.*+?()[\]{}|]/g,O=/^\[object .+?Constructor\]$/,k="object"==typeof c&&c&&c.Object===Object&&c,S="object"==typeof self&&self&&self.Object===Object&&self,T=k||S||Function("return this")(),E=e&&!e.nodeType&&e,D=E&&!0&&t&&!t.nodeType&&t,_=D&&D.exports===E,W=Function.prototype,I=Object.prototype,R=T["__core-js_shared__"],M=function(){var t=/[^.]+$/.exec(R&&R.keys&&R.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),H=W.toString,F=I.hasOwnProperty,L=I.toString,P=RegExp("^"+H.call(F).replace(j,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),A=_?T.Buffer:void 0,z=I.propertyIsEnumerable,U=A?A.isBuffer:void 0,N=function(t,e){return function(n){return t(e(n))}}(Object.keys,Object),B=o(T,"DataView"),G=o(T,"Map"),$=o(T,"Promise"),V=o(T,"Set"),q=o(T,"WeakMap"),X=!z.call({valueOf:1},"valueOf"),J=s(B),K=s(G),Q=s($),Y=s(V),Z=s(q),tt=function(t){return L.call(t)};(B&&"[object DataView]"!=tt(new B(new ArrayBuffer(1)))||G&&tt(new G)!=x||$&&"[object Promise]"!=tt($.resolve())||V&&tt(new V)!=C||q&&"[object WeakMap]"!=tt(new q))&&(tt=function(t){var e=L.call(t),n="[object Object]"==e?t.constructor:void 0,i=n?s(n):void 0;if(i)switch(i){case J:return"[object DataView]";case K:return x;case Q:return"[object Promise]";case Y:return C;case Z:return"[object WeakMap]"}return e});var et=Array.isArray,nt=U||function(){return!1};t.exports=function(t){if(f(t)&&(et(t)||"string"==typeof t||"function"==typeof t.splice||nt(t)||d(t)))return!t.length;var e=tt(t);if(e==x||e==C)return!t.size;if(X||l(t))return!N(t).length;for(var n in t)if(F.call(t,n))return!1;return!0}}),s=function(){function t(){var e=this;this.genStyle=function(e){var n="";if(e){var i=t.pxStyles;for(var r in e)if(e.hasOwnProperty(r)){var o=e[r],a=!!i[r]&&!isNaN(parseFloat(o))&&isFinite(o);n+=r+":"+e[r]+(a?"px;":";")}}return n},this.appendStyle=function(t,n){var i=e.genStyle(n),r=t.style.cssText;t.style.cssText=r+i}}return t.pxStyles={width:1,height:1,"line-height":1,"padding-left":1,"padding-right":1,"padding-top":1,"padding-bottom":1,"border-width":1,"font-size":1,"margin-left":1,"margin-right":1,"margin-top":1,"margin-bottom":1,"border-left-width":1,"border-right-width":1,"border-top-width":1,"border-bottom-width":1,top:1,left:1,bottom:1,right:1},t.getCurrentStyle=function(t,e){return t.currentStyle?t.currentStyle[e]:window.getComputedStyle?window.getComputedStyle(t)[e]:void 0},t}(),d=1,f=5,u=function(){function t(t){var e=t.initData,n=void 0===e?[]:e,i=t.nextPage,r=void 0===i?d:i,o=t.pageShowNum,a=void 0===o?f:o,c=t.mockRemoteLoad,l=void 0!==c&&c,s=t.ajaxFetch;this.loading=!1,this.isEnd=!1,this.page=r,this.mockRemoteLoad=l,this.showNum=a,this.data=n,s&&(this.ajaxFetch=s)}return t.prototype.fetchData=function(t,e){var n=this;if(!this.loading&&!this.isEnd){this.loading=!0;(0,this.ajaxFetch)({page:t,success:function(t){n.loading=!1,n.showNum>t.length&&(n.isEnd=!0),e(t)},fail:function(t){throw n.loading=!1,n.isEnd=!0,t}})}},t.prototype.fetchNext=function(t){if(!this.loading&&!this.isEnd){var e=this.page;this.page=e+1,this.fetchData(e,t)}},t.prototype.mockFetch=function(t,e){var n=this.data,i=this.showNum,r=Math.min((t-1)*i,n.length),o=Math.min(t*i,n.length);o===n.length&&(this.isEnd=!0);var a=n.slice(r,o);a.length&&e(a)},t.prototype.mockFetchNext=function(t){if(!this.isEnd){var e=this.page;this.page=e+1,this.mockFetch(e,t)}},t.prototype.getInit=function(t){this.mockRemoteLoad?this.mockFetch(1,t):t(this.data)},t.prototype.getNext=function(t){this.mockRemoteLoad?this.mockFetchNext(t):this.fetchNext(t)},t}(),p=function(t,i){return n(e(t,i))},h=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g"),g=function(){function t(t){this.sxinid=t&&t.sxinid,this.delay=t&&t.delay||100,this.url=t&&t.url||"http://fight55.com/s?sxinid=:sxinid&sxinitemid=:sxinitemid(.*?)",this.firstRenderUrl=t&&t.firstRenderUrl||"http://fight55.com/s?sxinid=:sxinid&show=1",this.createRedirectUrl=t&&t.createRedirectUrl}return t.prototype.scriptWay=function(t){var e=document.createElement("script");e.type="text/javascript",e.src=t,document.body.appendChild(e)},t.prototype.materielClick=function(t){if(this.url){var e=p(this.url)({sxinid:this.sxinid,sxinitemid:t});this.scriptWay(e)}},t.prototype.firstRender=function(){if(this.firstRenderUrl){var t=p(this.firstRenderUrl)({sxinid:this.sxinid});this.scriptWay(t)}},t}(),m=t(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),y=t(function(t){var e=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=e)}),v=function(t){return"object"==typeof t?null!==t:"function"==typeof t},b=function(t){if(!v(t))throw TypeError(t+" is not an object!");return t},w=function(t){try{return!!t()}catch(t){return!0}},x=!w(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),C=m.document,j=v(C)&&v(C.createElement),O=function(t){return j?C.createElement(t):{}},k=!x&&!w(function(){return 7!=Object.defineProperty(O("div"),"a",{get:function(){return 7}}).a}),S=function(t,e){if(!v(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!v(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!v(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!v(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")},T=Object.defineProperty,E={f:x?Object.defineProperty:function(t,e,n){if(b(t),e=S(e,!0),b(n),k)try{return T(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},D=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},_=x?function(t,e,n){return E.f(t,e,D(1,n))}:function(t,e,n){return t[e]=n,t},W={}.hasOwnProperty,I=function(t,e){return W.call(t,e)},R=0,M=Math.random(),H=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++R+M).toString(36))},F=t(function(t){var e=H("src"),n=Function.toString,i=(""+n).split("toString");y.inspectSource=function(t){return n.call(t)},(t.exports=function(t,n,r,o){var a="function"==typeof r;a&&(I(r,"name")||_(r,"name",n)),t[n]!==r&&(a&&(I(r,e)||_(r,e,t[n]?""+t[n]:i.join(String(n)))),t===m?t[n]=r:o?t[n]?t[n]=r:_(t,n,r):(delete t[n],_(t,n,r)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[e]||n.call(this)})}),L=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},P=function(t,e,n){if(L(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}},A=function(t,e,n){var i,r,o,a,c=t&A.F,l=t&A.G,s=t&A.S,d=t&A.P,f=t&A.B,u=l?m:s?m[e]||(m[e]={}):(m[e]||{}).prototype,p=l?y:y[e]||(y[e]={}),h=p.prototype||(p.prototype={});l&&(n=e);for(i in n)o=((r=!c&&u&&void 0!==u[i])?u:n)[i],a=f&&r?P(o,m):d&&"function"==typeof o?P(Function.call,o):o,u&&F(u,i,o,t&A.U),p[i]!=o&&_(p,i,a),d&&h[i]!=o&&(h[i]=o)};m.core=y,A.F=1,A.G=2,A.S=4,A.P=8,A.B=16,A.W=32,A.U=64,A.R=128;var z=A,U={}.toString,N=function(t){return U.call(t).slice(8,-1)},B=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==N(t)?t.split(""):Object(t)},G=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t},$=function(t){return B(G(t))},V=Math.ceil,q=Math.floor,X=function(t){return isNaN(t=+t)?0:(t>0?q:V)(t)},J=Math.min,K=function(t){return t>0?J(X(t),9007199254740991):0},Q=Math.max,Y=Math.min,Z=function(t,e){return(t=X(t))<0?Q(t+e,0):Y(t,e)},tt=m["__core-js_shared__"]||(m["__core-js_shared__"]={}),et=function(t){return tt[t]||(tt[t]={})}("keys"),nt=function(t){return function(e,n,i){var r,o=$(e),a=K(o.length),c=Z(i,a);if(t&&n!=n){for(;a>c;)if((r=o[c++])!=r)return!0}else for(;a>c;c++)if((t||c in o)&&o[c]===n)return t||c||0;return!t&&-1}}(!1),it=function(t){return et[t]||(et[t]=H(t))}("IE_PROTO"),rt=function(t,e){var n,i=$(t),r=0,o=[];for(n in i)n!=it&&I(i,n)&&o.push(n);for(;e.length>r;)I(i,n=e[r++])&&(~nt(o,n)||o.push(n));return o},ot="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),at=Object.keys||function(t){return rt(t,ot)},ct={f:Object.getOwnPropertySymbols},lt={f:{}.propertyIsEnumerable},st=function(t){return Object(G(t))},dt=Object.assign,ft=!dt||w(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=dt({},t)[n]||Object.keys(dt({},e)).join("")!=i})?function(t,e){for(var n=st(t),i=arguments.length,r=1,o=ct.f,a=lt.f;i>r;)for(var c,l=B(arguments[r++]),s=o?at(l).concat(o(l)):at(l),d=s.length,f=0;d>f;)a.call(l,c=s[f++])&&(n[c]=l[c]);return n}:dt;z(z.S+z.F,"Object",{assign:ft});var ut={"line-height":0,"background-color":"#eee",padding:"",margin:"8px 0px 0px 10px",border:"",left:10,height:1,top:0,position:"",display:"block"},pt={width:"",height:12,display:"inline-block",position:"","background-color":"#fff",overflow:"hidden","text-decoration":"none","font-size":12,color:"#999","font-family":"Arial, Helvetica, sans-serif","text-align":"left","line-height":12,"text-overflow":"ellipsis","o-text-overflow":"ellipsis",padding:"",border:""},ht={display:"block",position:"","line-height":"100%","text-align":"left"},gt={top:0,left:0,width:"",height:"",display:"inline-block",position:"","font-size":12,color:"#999","font-family":"Arial, Helvetica, sans-serif","text-align":"left","white-space":"nowrap","text-overflow":"ellipsis","o-text-overflow":"ellipsis","margin-right":"8px"},mt={configWrapCreate:function(t,e){return Object.assign({},ht,e)},configItemCreate:function(t,e){return Object.assign({},gt,e)}},yt={top:0,left:0,height:"auto",display:"block",position:"","background-color":"#fff",overflow:"hidden","text-decoration":"none"},vt={top:0,left:10,height:"auto",display:"block",position:"","font-size":18,color:"#000","font-family":"Arial, Helvetica, sans-serif","text-align":"left","line-height":"auto",overflow:"hidden","text-overflow":"ellipsis","o-text-overflow":"ellipsis","text-decoration":"none",padding:"",margin:"10px 0px 0px 10px",border:""},bt={top:0,left:10,display:"block",position:"","background-size":"cover",overflow:"hidden",border:"",margin:"5px 0px 0px 10px",padding:""},wt={configWrapCreate:function(t,e){return Object.assign({},yt,{width:t},e)},configTitleContainerCreate:function(t,e){return Object.assign({},vt,{width:t-20},e)},configImgContainerCreate:function(t,e){var n=t-20;return Object.assign({},bt,{width:n,height:1*n/2.3},e)}},xt={top:0,left:0,display:"block",position:"","background-color":"#fff",overflow:"hidden","text-decoration":"none"},Ct={top:15,left:10,display:"inline-block",position:"",border:"",margin:"15px 0px 0px 10px",padding:"","vertical-align":"top"},jt={top:15,display:"inline-block",position:"",border:"",margin:"15px 0px 0px 10px",padding:"","line-height":"100%","vertical-align":"top"},Ot={top:18,display:"inline-block",position:"","font-size":18,color:"#000","font-family":"Arial, Helvetica, sans-serif","text-align":"left","line-height":20},kt={configWrapCreate:function(t,e){return Object.assign({},xt,{width:t},e)},configImgCreate:function(t,e){var n=100*t/320;return Object.assign({},Ct,{width:n,height:33*n/50},e)},configRightCreate:function(t,e){var n=100*t/320;return Object.assign({},jt,{left:n+20,width:t-30-n},e)},configTitleWrapCreate:function(t,e){var n=100*t/320;return Object.assign({},Ot,{left:n+20,width:t-30-n},e)},configTitleCreate:function(t,e){var n=100*t/320;return Object.assign({},Ot,{width:t-30-n},e)}},St={top:0,left:0,height:"auto",display:"block",position:"","background-color":"#fff",overflow:"hidden","text-decoration":"none"},Tt={top:0,left:10,height:"auto",display:"block",position:"","font-size":18,color:"#000","font-family":"Arial, Helvetica, sans-serif","text-align":"left","line-height":20,overflow:"hidden","-webkit-line-clamp":"2","text-overflow":"ellipsis","o-text-overflow":"ellipsis","text-decoration":"none",padding:"",margin:"15px 10px 0px",border:""},Et={top:5,left:10,display:"inline-block",position:"",padding:"",margin:"5px 0px 10px 10px",border:""},Dt={configWrapCreate:function(t,e){return Object.assign({},St,{width:t},e)},configTitleCreate:function(t,e){return Object.assign({},Tt,{width:t-20},e)},configImgItemCreate:function(t,e,n){void 0===n&&(n=3);var i=(t-20-2*n)/n;return Object.assign({},Et,{width:i,height:66*i/98},e)}},_t={top:0,left:0,height:15,"line-height":15,"font-size":12,display:"block",position:"","background-color":"#eee",color:"#888",overflow:"hidden","text-align":"center"},Wt={configWrapCreate:function(t,e){return Object.assign({},_t,e)}},It={top:0,left:0,height:30,"line-height":30,display:"block",position:"relative","background-color":"#fff",margin:"15px 0px 0px 10px",overflow:"visible","z-index":"-1","border-bottom":"2px solid #dddddd"},Rt={top:0,left:0,height:30,width:70,"line-height":30,"font-size":16,position:"relative",color:"#888",overflow:"hidden","text-align":"left","border-bottom":"2px solid #4280db"},Mt={configWrapCreate:function(t,e){return Object.assign({},It,{width:t-15},e)},configTitleCreate:function(t,e){return Object.assign({},Rt,e)}},Ht=new s,Ft=function(){function t(){}return t.prototype.buildDom=function(t,e,n){void 0===e&&(e={});var i=document.createElement(t);if(e)for(var r in e)e.hasOwnProperty(r)&&(i[r]=e[r]);if(n){var o=n();Ht.appendStyle(i,o)}return i},t.prototype.createDescDom=function(t,e,n,i){void 0===e&&(e=0),void 0===n&&(n=0);var r={innerText:i||""},o=a(0,{top:e,left:n,"margin-top":e,"margin-left":n});return this.buildDom("div",r,function(){return o})},t.prototype.createSrcAndTimeDom=function(t,e,n,i,r,o){var a=document.createElement("div");if(!r||!o)return a;var c={top:e,left:n,height:i,"margin-left":n,"margin-top":e},l=mt.configWrapCreate(t,c);Ht.appendStyle(a,l);var s=document.createElement("div"),d=mt.configItemCreate(t,{"line-height":i});s.innerText=r,Ht.appendStyle(s,d);var f=document.createElement("div");return f.innerText=o,Ht.appendStyle(f,d),a.appendChild(s),a.appendChild(f),a},t.prototype.createLineDom=function(t,e,n){return void 0===n&&(n=""),this.buildDom("div",{},function(){return o(t,{top:e,position:n})})},t}(),Lt={top:0,left:0,height:"auto",display:"block",position:"","background-color":"#fff",overflow:"hidden","text-decoration":"none"},Pt={top:0,left:10,height:"auto",display:"block",position:"","font-size":18,color:"#000","font-family":"Arial, Helvetica, sans-serif","text-align":"left","line-height":"auto",overflow:"hidden","text-overflow":"ellipsis","o-text-overflow":"ellipsis","text-decoration":"none",padding:"",margin:"10px 0px 0px 10px",border:""},At={top:0,display:"block",position:"relative","background-size":"cover",overflow:"hidden",border:"",margin:"5px 0px 0px 10px",padding:""},zt={top:0,left:0,width:"100%",display:"block",position:"",overflow:"hidden",border:"",margin:"",padding:""},Ut={top:"50%",left:"50%",width:"15%","z-index":99,"Webkit-transform":"translate(-50%, -50%)",transform:"translate(-50%, -50%)",display:"block",position:"absolute",background:"",overflow:"hidden",border:"",margin:"",padding:""},Nt={configWrapCreate:function(t,e){return Object.assign({},Lt,{width:t},e)},configTitleContainerCreate:function(t,e){return Object.assign({},Pt,{width:t-20},e)},configContainerCreate:function(t,e){var n=t-20;return Object.assign({},At,{width:n},e)},configVideoScreenCreate:function(t,e){return Object.assign({},zt,{},e)},configPlayBtnCreate:function(t,e){return Object.assign({},Ut,e)}},Bt={SHOW_DESC:0,SHOW_SRC_TIME:1},Gt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),$t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Gt(e,t),e.prototype.createWrapper=function(t){var e={};return this.buildDom("div",e,function(){return Nt.configWrapCreate(t)})},e.prototype.createTitle=function(t,e){return this.buildDom("span",{innerHTML:e},function(){return Nt.configTitleContainerCreate(t)})},e.prototype.createContent=function(t,e,n){var i={poster:n,src:e,controls:"controls",preload:"none"},r=this.buildDom("video",i,function(){return Nt.configVideoScreenCreate(t)});r.addEventListener("play",function(){var t=document.querySelectorAll("video");for(var e in t){var n=t[e];n!==r&&!1===n.paused&&n.pause()}});var o=this.buildDom("div",{onclick:function(t){r.paused||r.ended?r.play():r.pause()}},function(){return Nt.configContainerCreate(t)});return o.appendChild(r),o},e.prototype.createRemark=function(t,e,n,i,r){return e===Bt.SHOW_SRC_TIME?this.createSrcAndTimeDom(t,10,10,20,i,r):this.createDescDom(t,10,10,n)},e.prototype.render=function(t,e,n){var i=n.title,r=n.source,o=n.imageUrl,a=n.type,c=n.src,l=n.desc,s=n.time;n.sxinitemid;if(o&&r){var d=this.createWrapper(e),f=this.createTitle(e,i),u=this.createContent(e,r,o),p=this.createRemark(e,a,l,c,s);this.createLineDom(e,0);d.appendChild(f),d.appendChild(u),d.appendChild(p),t.appendChild(d)}},e}(Ft),Vt=new s,qt=new $t;return function(){function t(t){document.body&&document.body.clientWidth?this.winWidth=document.body&&document.body.clientWidth:this.winWidth=window.innerWidth,this.loadObj=new u(t)}return t.prototype.init=function(t,e,n,i){var r=this;void 0===e&&(e={}),void 0===i&&(i=!0);var o,a=document.body;if(t&&"string"==typeof t?o=document.getElementById(t)||a:"object"==typeof t&&t instanceof HTMLElement&&(o=t),o){this.loadObj;if(l(n)||(this.statisticObj=new g(n)),!i||e.dom&&e.dom!==a)this.initRender(o,e);else{var c=document.documentElement;if(c.offsetHeight>c.clientHeight+50){var s=function(){var t=document.body;t.scrollHeight-t.scrollTop-window.screen.height<=0&&(r.initRender(o,e),window.removeEventListener("scroll",s))};window.addEventListener("scroll",s)}else this.initRender(o,e)}}},t.prototype.initRender=function(t,e){var n=this;void 0===e&&(e={});var i=this.createHeader(),r=this.createContainer();r.appendChild(i),t.appendChild(r);var o=this.loadObj;o.getInit(function(t){return n.render(t,o.isEnd,o.loading)}),this.statisticObj&&this.statisticObj.firstRender(),e.scroll&&this.watchScroll(e.dom,e.onEndReachedThreshold,function(t){return n.render(t,o.isEnd,o.loading)}),e&&e.click&&this.watchLoadMoreBtn(function(t){return n.render(t,o.isEnd,o.loading)})},t.prototype.render=function(e,n,i){var r=this,o=(document.body,document.createDocumentFragment()),a=this.createContainer(),c=t.layoutType.BIG_IMG,l=t.layoutType.IMG_TEXT,s=t.layoutType.IMGS,d=t.layoutType.VIDEO;e.forEach(function(t){switch(t.stype){case c:r.renderBigImgItem(o,t);break;case l:r.renderImgTextItem(o,t);break;case s:r.renderImgsItem(o,t);break;case d:qt.render(o,r.winWidth,t);break;default:return}});var f=this.createFooter(n,i);o.appendChild(f),a.appendChild(o)},t.prototype.watchScroll=function(t,e,n){void 0===e&&(e=50);var i=this.loadObj,r=document.body;t&&"string"==typeof t?r=document.getElementById(t)||document.body:"object"==typeof t&&t instanceof HTMLElement&&(r=t);r.clientHeight;var o=function(){r.scrollHeight-r.scrollTop-window.screen.height<=e&&i.getNext(n)},a=r===document.body?window:r;a.addEventListener?a.addEventListener("scroll",o):a.onscroll=o},t.prototype.watchLoadMoreBtn=function(t){var e=this.loadObj,n=this.createFooter(e.isEnd,e.loading),i=function(){e.getNext(t)};n.addEventListener?n.addEventListener("click",function(){return i()}):n.onclick=function(){return i()}},t.prototype.buildDom=function(t,e,n){void 0===e&&(e={});var i=document.createElement(t);if(e)for(var r in e)e.hasOwnProperty(r)&&(i[r]=e[r]);if(n){var o=n();Vt.appendStyle(i,o)}return i},t.prototype.renderBigImgItem=function(e,n){var i=this,r=n.title,o=n.curl,a=n.imageUrl,c=n.target,l=n.type,s=n.src,d=n.desc,f=n.time,u=n.sxinitemid;if(a){var p=o;this.statisticObj&&"function"==typeof this.statisticObj.createRedirectUrl&&(p=this.statisticObj.createRedirectUrl(n)||o);var h=this.winWidth,g=this.buildDom("a",{href:p,target:c||"_self",title:r,onclick:function(t){if(i.statisticObj)return i.statisticObj.materielClick(u),setTimeout(function(){window.open(p,c||"_self")},i.statisticObj.delay),!1}},function(){return wt.configWrapCreate(h)}),m=this.buildDom("span",{innerHTML:r},function(){return wt.configTitleContainerCreate(h)});g.appendChild(m);var y=this.buildDom("div",{},function(){return wt.configImgContainerCreate(h)});if(y.style.background="url("+a+") center center no-repeat",y.style.backgroundSize="cover",g.appendChild(y),l===t.remarkType.SHOW_DESC&&d){var v=this.createDescDom(d,10,10);g.appendChild(v)}else if(l===t.remarkType.SHOW_SRC_TIME&&s&&f){var b=this.createSrcAndTimeDom(s,f,10,10,20);g.appendChild(b)}var w=this.createLineDom(0,"");return g.appendChild(w),e.appendChild(g),e}},t.prototype.renderImgTextItem=function(e,n){var i=this,r=n.title,o=n.curl,a=n.imageUrl,c=n.target,l=n.type,s=n.src,d=n.time,f=n.desc,u=n.sxinitemid;if(a){var p=o;this.statisticObj&&"function"==typeof this.statisticObj.createRedirectUrl&&(p=this.statisticObj.createRedirectUrl(n)||o);var h=this.winWidth,g=this.buildDom("a",{href:p,target:c||"_self",title:r,onclick:function(t){if(i.statisticObj)return i.statisticObj.materielClick(u),setTimeout(function(){window.open(p,c||"_self")},i.statisticObj.delay),!1}},function(){return kt.configWrapCreate(h)}),m=this.buildDom("div",{},function(){return kt.configImgCreate(h)});m.style.background="url("+a+") center center no-repeat",m.style.backgroundSize="cover",g.appendChild(m);var y=this.buildDom("div",{},function(){return kt.configRightCreate(h)}),v=this.buildDom("div",{},function(){return kt.configTitleWrapCreate(h)}),b=this.buildDom("span",{innerText:r},function(){return kt.configTitleCreate(h)});if(v.appendChild(b),y.appendChild(v),l===t.remarkType.SHOW_DESC&&f){var w=this.createDescDom(f,10,0);y.appendChild(w)}else if(l===t.remarkType.SHOW_SRC_TIME&&s&&d){var x=this.createSrcAndTimeDom(s,d,5,0,20);y.appendChild(x)}g.appendChild(y);var C=this.createLineDom(13,"");return g.appendChild(C),e.appendChild(g),e}},t.prototype.renderImgsItem=function(e,n){var i=this,r=n.title,o=n.curl,a=n.images,c=n.target,l=n.desc,s=n.src,d=n.time,f=n.type,u=n.sxinitemid;if(a&&0!==a.length){var p=o;this.statisticObj&&"function"==typeof this.statisticObj.createRedirectUrl&&(p=this.statisticObj.createRedirectUrl(n)||o);var h=this.winWidth,g=this.buildDom("a",{href:p,target:c||"_self",title:r,onclick:function(t){if(i.statisticObj)return i.statisticObj.materielClick(u),setTimeout(function(){window.open(p,c||"_self")},i.statisticObj.delay),!1}},function(){return Dt.configWrapCreate(h)}),m=this.buildDom("span",{innerText:r},function(){return Dt.configTitleCreate(h)});g.appendChild(m);for(var y=a.length,v=this,b=0;b<y;b++)!function(t){var e=a[t],n={};0!==t&&(n["margin-left"]="3px");var i=v.buildDom("div",{},function(){return Dt.configImgItemCreate(h,n,y)});i.style.background="url("+e+") center center no-repeat",i.style.backgroundSize="cover",g.appendChild(i)}(b);if(f===t.remarkType.SHOW_DESC&&l){var w=this.createDescDom(l,0,10);g.appendChild(w)}else if(f===t.remarkType.SHOW_SRC_TIME&&s&&d){var x=this.createSrcAndTimeDom(s,d,0,10,20);g.appendChild(x)}var C=this.createLineDom(0,"");return g.appendChild(C),e.appendChild(g),e}},t.prototype.createLineDom=function(t,e){var n=this;return this.buildDom("div",{},function(){return o(n.winWidth,{top:t,position:e})})},t.prototype.createDescDom=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=0);var i=document.createElement("div");if(!t)return i;i.innerText=t;var r=a(this.winWidth,{top:e,left:n,"margin-top":e,"margin-left":n});return Vt.appendStyle(i,r),i},t.prototype.createSrcAndTimeDom=function(t,e,n,i,r){var o=document.createElement("div");if(!t||!e)return o;var a={top:n,left:i,height:r,"margin-left":i,"margin-top":n},c=mt.configWrapCreate(this.winWidth,a);Vt.appendStyle(o,c);var l=document.createElement("div"),s=mt.configItemCreate(this.winWidth,{"line-height":r});l.innerText=t,Vt.appendStyle(l,s);var d=document.createElement("div");return d.innerText=e,Vt.appendStyle(d,s),o.appendChild(l),o.appendChild(d),o},t.prototype.createContainer=function(){return this.containerDom||(this.containerDom=this.buildDom("div",{})),this.containerDom},t.prototype.createHeader=function(){var t=this;this.headerDom=this.buildDom("div",{},function(){return Mt.configWrapCreate(t.winWidth)});var e=this.buildDom("div",{},function(){return Mt.configTitleCreate(t.winWidth)});return e.innerText="猜你喜欢",this.headerDom.appendChild(e),this.headerDom},t.prototype.createFooter=function(t,e){var n=this;this.footerDom||(this.footerDom=this.buildDom("div",{},function(){return Wt.configWrapCreate(n.winWidth)}));var i=this.footerDom,r=t?"-- 加载完成 --":e?"加载中...":"加载更多";return i.innerText!==r&&(i.innerText=r),i},t.layoutType={BIG_IMG:0,IMG_TEXT:1,IMGS:2,VIDEO:3},t.remarkType={SHOW_DESC:0,SHOW_SRC_TIME:1},t}()});
//# sourceMappingURL=information-flow-layout-render.umd.js.map
